.. .. raw:: html

..     <style> .yellow {color:yellow; font-weight:bold;} </style>

.. .. role:: yellow

Example command format
======================

cluster command format:
-----------------------

The following command assumes that you have either installed DRIVE into a virtualenv using pip/pdm/conda or that you have installed it from github. The following command will show you how to call it if you install DRIVE using pip. This example command has only the required arguments.

.. code::

    drive cluster -i {input ibd filepath} -t {chromosome position to cluster around} -o {output filepath}

.. note::

    If you installed DRIVE from github then you can replace the 'drive' portion with "python /path_to_drive.py" or you can add drive to your path. The rest of the command will be the same.

Explanation of command:
```````````````````````

* **input ibd filepath**: filepath to the output from a program like hap-IBD, iLASH, or GERMLINE. This file should correspond to the chromosome that the locus of interest is on.


* **chromosome position to cluster around**: string indicating the target region of interest should be of the form chromosome:start position-end position (An example is chrX:XXXX-XXXX).


* **output filepath**: filepath to write an output file to. This value should not include a suffix. DRIVE will automatically append the suffix ".DRIVE.txt".

dendrogram command format:
--------------------------
The same assumptions as were stated for the cluster command are also assumed here. This command is the bare minimum that needs to be provided in order to run the dendrogram subcommand. All text in brackets is just a placeholder to indicate the type of argument the user needs to provide. 

.. code::

    drive dendrogram -i {input drive filepath} --ibd {input ibd filepath} -t {chromosome position to cluster around} -n {network ID of interest} 

Explanation of command:
```````````````````````

* **input drive filepath**: filepath to the output file from the DRIVE cluster command. This file can be used directly as input for the dendrogram command.

* **input ibd filepath**: filepath to the pairwise shared IBD segments used in the clustering command. These files should have been generated by hap-IBD, iLASH, RapID, or GERMLINE.

* **chromosome position to cluster around**: string indicating the target region of interest should be of the form chromosome:start position-end position (An example is chrX:XXXX-XXXX).

* **network ID of interest**: ID of the network that you are interested in generating a dendrogram for. This ID has to exactly match what is in the output file from the DRIVE cluster command.


.. hint::

    1. If you are running several DRIVE commands at one time but you are writting them all to the same output folder then you should set a unique log filename using the "--log-filename" flag. Otherwise the log file will be randomly written to by each job. 

    2. If you are running DRIVE using a batch scheduler such as SLURM, it is advised to use the --log-to-console flag. SLURM usually catches the STDOUT in a user specified log file. Using this flag will cause DRIVE to write to the SLURM log file as a redundancy. 